@model webBanSach.ViewModels.ProfileVM
@{
    ViewData["Title"] = "Thông tin cá nhân";
}

<div class="container py-5 d-flex justify-content-center">
    <div class="col-lg-8">
        <div class="card shadow-lg border-0 rounded-4">
            <div class="card-body p-4 p-md-5">

                <h3 class="fw-bold text-center text-primary mb-4">
                    <i class="bi bi-person-circle me-2"></i>Thông tin cá nhân
                </h3>

                @if (ViewBag.Success != null)
                {
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <i class="bi bi-check-circle me-2"></i>@ViewBag.Success
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                }

                <form asp-action="ProfileInfo" method="post" enctype="multipart/form-data">
                    <div class="row g-4 align-items-center">
                        <!-- Avatar -->
                        <div class="col-md-4 text-center">
                            <div class="position-relative d-inline-block">
                                <img src="@(string.IsNullOrEmpty(Model.HinhAnh) ? "/images/nguoidung/default.jpg" : "/images/nguoidung/" + Model.HinhAnh)"
                                     class="rounded-circle border border-3 shadow-sm"
                                     style="width:160px;height:160px;object-fit:cover;" />
                                <label for="avatarFile" class="btn btn-sm btn-outline-secondary position-absolute bottom-0 end-0 rounded-circle shadow"
                                       style="transform: translate(30%, -30%);">
                                    <i class="bi bi-camera-fill"></i>
                                </label>
                                <input id="avatarFile" type="file" name="avatarFile" class="d-none" />
                            </div>
                            <p class="small text-muted mt-2">Nhấn vào biểu tượng 📷 để thay ảnh</p>
                        </div>

                        <!-- Thông tin cá nhân -->
                        <div class="col-md-8">
                            <div class="mb-3">
                                <label class="form-label fw-semibold">Họ tên</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light"><i class="bi bi-person-fill"></i></span>
                                    <input asp-for="HoTen" class="form-control" placeholder="Nhập họ và tên..." />
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label fw-semibold">Email</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light"><i class="bi bi-envelope-fill"></i></span>
                                    <input asp-for="Email" class="form-control" readonly />
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label fw-semibold">Số điện thoại</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light"><i class="bi bi-telephone-fill"></i></span>
                                    <input asp-for="SDT" class="form-control" placeholder="Nhập số điện thoại..." />
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label fw-semibold">Địa chỉ</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light"><i class="bi bi-geo-alt-fill"></i></span>
                                    <input asp-for="DiaChi" class="form-control" placeholder="Nhập địa chỉ của bạn..." />
                                </div>
                            </div>

                            <div class="d-flex justify-content-end">
                                <button type="submit" class="btn btn-primary px-4 py-2 rounded-3 shadow-sm fw-semibold">
                                    <i class="bi bi-save me-2"></i>Lưu thay đổi
                                </button>
                            </div>
                        </div>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>

<style>
    .input-group-text {
        border-right: none;
        border-radius: 10px 0 0 10px !important;
    }

    .form-control {
        border-radius: 0 10px 10px 0 !important;
    }

    .btn-primary {
        background: linear-gradient(90deg, #007bff, #0d6efd);
        border: none;
    }

        .btn-primary:hover {
            background: linear-gradient(90deg, #0b5ed7, #084298);
        }

    .card {
        background-color: #ffffff;
    }
</style>
